{"version":3,"sources":["webpack:///webpack/bootstrap f2332e59fca86a17f62f","webpack:///./js/dependencies.modules.js","webpack:///external {\"global\":\"Modal\",\"commonjs2\":\"react-modal\",\"commonjs\":\"react-modal\",\"amd\":\"react-modal\"}","webpack:///external {\"global\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"global\":\"ReactDOM\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"global\":\"draftJs\",\"commonjs2\":\"draft-js\",\"commonjs\":\"draft-js\",\"amd\":\"draft-js\"}","webpack:///external {\"global\":\"draftjsToHtml\",\"commonjs2\":\"draftjs-to-html\",\"commonjs\":\"draftjs-to-html\",\"amd\":\"draftjs-to-html\"}","webpack:///external {\"global\":\"jquery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}","webpack:///external {\"global\":\"lin3sEventBus\",\"commonjs2\":\"lin3s-event-bus\",\"commonjs\":\"lin3s-event-bus\",\"amd\":\"lin3s-event-bus\"}","webpack:///external {\"global\":\"reactDraftWysiwyg\",\"commonjs2\":\"react-draft-wysiwyg\",\"commonjs\":\"react-draft-wysiwyg\",\"amd\":\"react-draft-wysiwyg\"}","webpack:///./js/components/Wysiwyg/WysiwygWrapper.js","webpack:///./scss/components/_wysiwyg.scss","webpack:///./js/components/Wysiwyg/Wysiwyg.js"],"names":["listenDomReady","listenDomLoaded","onDomReady","React","ReactDOM","Modal","Editor","draftToHtml","ContentState","EditorState","convertFromHTML","convertToRaw","$","WysiwygWrapper","props","editorContentHtml","formInput","value","editorContentState","getEditorContentStateFromHtml","state","editorMode","MODE","EDITOR","editorState","createWithContent","textareaState","boundOnEditorStateChange","onEditorStateChange","bind","boundOnTextareaStateChange","onTextareaStateChange","htmlContent","htmlBlocks","createFromBlockArray","getCurrentContent","persistChanges","event","target","setFormInputValue","setState","tabInactiveStyle","editorModeTabStyle","rawModeTabStyle","RAW","onEditorModeSelected","display","Component","propTypes","PropTypes","object","isRequired","init","wysiwygs","document","querySelectorAll","length","forEach","wysiwyg","wysiwygReactWrapper","querySelector","wysiwygFormInput","render"],"mappings":"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","file":"/components/wysiwyg.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f2332e59fca86a17f62f","/*\n * This file is part of the CMS Kernel library.\n *\n * Copyright (c) 2017-2018 LIN3S <info@lin3s.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * @author Mikel Tuesta <mikel@lin3s.com>\n */\n\nimport {listenDomReady, listenDomLoaded, onDomReady} from 'lin3s-event-bus';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Modal from 'react-modal';\nimport {Editor} from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport {ContentState, EditorState, convertFromHTML, convertToRaw} from 'draft-js';\nimport $ from 'jquery';\n\nexport {\n  listenDomReady,\n  listenDomLoaded,\n  onDomReady,\n  React,\n  ReactDOM,\n  Modal,\n  Editor,\n  draftToHtml,\n  ContentState,\n  EditorState,\n  convertFromHTML,\n  convertToRaw,\n  $\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/dependencies.modules.js","module.exports = undefined;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"global\":\"Modal\",\"commonjs2\":\"react-modal\",\"commonjs\":\"react-modal\",\"amd\":\"react-modal\"}\n// module id = 1\n// module chunks = 0 1","module.exports = undefined;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"global\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 2\n// module chunks = 0 1","module.exports = undefined;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"global\":\"ReactDOM\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 3\n// module chunks = 0 1","module.exports = undefined;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"global\":\"draftJs\",\"commonjs2\":\"draft-js\",\"commonjs\":\"draft-js\",\"amd\":\"draft-js\"}\n// module id = 4\n// module chunks = 0 1","module.exports = undefined;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"global\":\"draftjsToHtml\",\"commonjs2\":\"draftjs-to-html\",\"commonjs\":\"draftjs-to-html\",\"amd\":\"draftjs-to-html\"}\n// module id = 5\n// module chunks = 0 1","module.exports = undefined;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"global\":\"jquery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}\n// module id = 6\n// module chunks = 0 1","module.exports = undefined;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"global\":\"lin3sEventBus\",\"commonjs2\":\"lin3s-event-bus\",\"commonjs\":\"lin3s-event-bus\",\"amd\":\"lin3s-event-bus\"}\n// module id = 7\n// module chunks = 0 1","module.exports = undefined;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"global\":\"reactDraftWysiwyg\",\"commonjs2\":\"react-draft-wysiwyg\",\"commonjs\":\"react-draft-wysiwyg\",\"amd\":\"react-draft-wysiwyg\"}\n// module id = 8\n// module chunks = 0 1","/*\n * This file is part of the CMS Kernel library.\n *\n * Copyright (c) 2017-2018 LIN3S <info@lin3s.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * @author Mikel Tuesta <mikel@lin3s.com>\n */\n\nimport './../../../scss/components/_wysiwyg.scss';\n\nimport {\n  React,\n  EditorState,\n  ContentState,\n  Editor,\n  convertFromHTML,\n  convertToRaw,\n  draftToHtml\n} from './../../dependencies.modules';\n\nclass WysiwygWrapper extends React.Component {\n\n  static propTypes = {\n    formInput: React.PropTypes.object.isRequired\n  };\n\n  static MODE = {\n    EDITOR: 'editor',\n    RAW: 'raw'\n  };\n\n  constructor(props) {\n    super(props);\n\n    const editorContentHtml = this.props.formInput.value;\n    const editorContentState = this.getEditorContentStateFromHtml(editorContentHtml);\n\n    this.state = {\n      editorMode: WysiwygWrapper.MODE.EDITOR,\n      editorState: EditorState.createWithContent(editorContentState),\n      textareaState: editorContentHtml\n    };\n\n    // Pre bind mthod's context\n    this.boundOnEditorStateChange = this.onEditorStateChange.bind(this);\n    this.boundOnTextareaStateChange = this.onTextareaStateChange.bind(this);\n  }\n\n  getEditorContentStateFromHtml(htmlContent) {\n    const htmlBlocks = convertFromHTML(htmlContent);\n    return ContentState.createFromBlockArray(htmlBlocks);\n  }\n\n  onEditorStateChange(editorState) {\n    const editorContentHtml = draftToHtml(convertToRaw(editorState.getCurrentContent()));\n    this.persistChanges(editorContentHtml, editorState);\n  }\n\n  onTextareaStateChange(event) {\n    const editorContentHtml = event.target.value;\n    const editorContentState = this.getEditorContentStateFromHtml(editorContentHtml);\n    this.persistChanges(editorContentHtml, EditorState.createWithContent(editorContentState));\n  }\n\n  persistChanges(editorContentHtml, editorState) {\n    this.setFormInputValue(editorContentHtml);\n    this.setState({\n      editorState: editorState,\n      textareaState: editorContentHtml\n    });\n  }\n\n  setFormInputValue(value) {\n    const {formInput} = this.props;\n    formInput.value = value;\n  }\n\n  onEditorModeSelected(editorMode) {\n    this.setState({\n      editorMode: editorMode\n    });\n  }\n\n  render() {\n    const {editorMode, editorState, textareaState} = this.state;\n    const\n      tabInactiveStyle = 'tab__button--inactive',\n      editorModeTabStyle = 'tab__button ' + (editorMode !== WysiwygWrapper.MODE.EDITOR ? tabInactiveStyle : ''),\n      rawModeTabStyle = 'tab__button ' + (editorMode !== WysiwygWrapper.MODE.RAW ? tabInactiveStyle : '');\n\n    return <div className=\"tabs\">\n      <div className=\"tab__button-group\">\n        <div\n          className={editorModeTabStyle}\n          onClick={this.onEditorModeSelected.bind(this, WysiwygWrapper.MODE.EDITOR)}>\n          {WysiwygWrapper.MODE.EDITOR}\n        </div>\n        <div\n          className={rawModeTabStyle}\n          onClick={this.onEditorModeSelected.bind(this, WysiwygWrapper.MODE.RAW)}>\n          {WysiwygWrapper.MODE.RAW}\n        </div>\n      </div>\n      <div className=\"tabs__content\">\n        <div\n          className=\"tab__content\"\n          style={{\n            display: editorMode === WysiwygWrapper.MODE.EDITOR ? 'block' : 'none'\n          }}>\n          <Editor\n            editorState={editorState}\n            onEditorStateChange={this.boundOnEditorStateChange}\n          />\n        </div>\n        <div\n          className=\"tab__content\"\n          style={{\n            display: editorMode === WysiwygWrapper.MODE.RAW ? 'block' : 'none'\n          }}>\n          <textarea\n            className=\"wysiwyg__textarea\"\n            onChange={this.boundOnTextareaStateChange}\n            value={textareaState}/>\n        </div>\n      </div>\n    </div>;\n  }\n}\n\nexport default WysiwygWrapper;\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/Wysiwyg/WysiwygWrapper.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scss/components/_wysiwyg.scss\n// module id = 11\n// module chunks = 0","/*\n * This file is part of the Distribution library.\n *\n * Copyright (c) 2017-2018 LIN3S <info@lin3s.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n *\n * @author Mikel Tuesta <mikel@lin3s.com>\n */\n\nimport {ReactDOM, onDomReady} from './../../dependencies.modules';\n\nimport WysiwygWrapper from './WysiwygWrapper';\n\nconst init = () => {\n  const wysiwygs = document.querySelectorAll('.wysiwyg');\n\n  if (wysiwygs.length === 0) {\n    return;\n  }\n\n  wysiwygs.forEach((wysiwyg) => {\n    const\n      wysiwygReactWrapper = wysiwyg.querySelector('.wysiwyg__react-wrapper'),\n      wysiwygFormInput = wysiwyg.querySelector('.wysiwyg__form-input');\n\n    ReactDOM.render(\n      <WysiwygWrapper formInput={wysiwygFormInput}/>,\n      wysiwygReactWrapper\n    );\n  });\n};\n\nonDomReady(init);\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/Wysiwyg/Wysiwyg.js"],"sourceRoot":""}